<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Closure</title>
  </head>
  <body>
    <button id="green">green</button>
    <button id="orange">Orange</button>
  </body>

  <script>
    // function along with its lexical scope forms a closure
    // function outerFunction() {
    //   const name = "function";
    //   function innerFunction() {
    //     console.log(`this is inner ${name}`);
    //   }
    //   return innerFunction;
    // }
    // const inner = outerFunction();
    // inner();

    function outerFunction(name) {
      return function inner() {
        console.log(name);
      };
    }
    const outerName = outerFunction("Mozilla");
    console.log(outerName);
    outerName();

    //Passing variables through parameter
    function secret(name, age) {
      return function () {
        console.log(name, age);
      };
    }
    const Aquib = secret("AquibBhai", 27);
    const coding = secret("Aquib Loves coding");
    Aquib(); //output comes AquibBhai , 27
    coding(); //Aquib loves coding

    //Passing variables through parameter
    function adding(x, y) {
      return function () {
        console.log(x + y);
      };
    }
    const result = adding(5, 3);
    result();
  </script>

  <script>
    function clickHandler(color) {
      return function () {
        document.body.style.backgroundColor = `${color}`;
      };
    }

    document.getElementById("orange").onclick = clickHandler("orange");
    document.getElementById("green").onclick = clickHandler("green");

    //Alternate Method
    // window.onload = function () {
    //     function clickHandler(color) {
    //         return function () {
    //             document.body.style.backgroundColor = `${color}`;
    //         }
    //     }

    //     const orange = clickHandler("orange");
    //     orange(); // sets background color
    // }

    //setTimeout + closures -->
    function x() {
      for (let i = 0; i <= 4; i++) {
        setTimeout(function () {
          console.log(i);
        }, i * 1000);
      }
      console.log("Namaste Jaascript");
    }
    x();
  </script>
</html>
